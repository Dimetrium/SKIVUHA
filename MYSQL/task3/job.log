select * from task3_1 inner join task3_2 on task3_1.user=task3_2.user;
+------+--------+------+--------+
| id   | user   | id   | user   |
+------+--------+------+--------+
|    1 | Pirate |    2 | Pirate |
|    3 | Ninja  |    4 | Ninja  |
+------+--------+------+--------+
2 rows in set (0.00 sec)

SHOW SESSION STATUS LIKE 'Last_query_cost';
+-----------------+----------+
| Variable_name   | Value    |
+-----------------+----------+
| Last_query_cost | 7.239039 |
+-----------------+----------+
1 row in set (0.00 sec)

explain select * from task3_1 inner join task3_2 on task3_1.user=task3_2.user;
+----+-------------+---------+------+---------------+------+---------+------+------+--------------------------------+
| id | select_type | table   | type | possible_keys | key  | key_len | ref  | rows | Extra                          |
+----+-------------+---------+------+---------------+------+---------+------+------+--------------------------------+
|  1 | SIMPLE      | task3_1 | ALL  | NULL          | NULL | NULL    | NULL |    4 |                                |
|  1 | SIMPLE      | task3_2 | ALL  | NULL          | NULL | NULL    | NULL |    4 | Using where; Using join buffer |
+----+-------------+---------+------+---------------+------+---------+------+------+--------------------------------+
2 rows in set (0.00 sec)


select * from task3_1 left outer join task3_2 on task3_1.user=task3_2.user union select * from task3_1 right outer join task3_2 on task3_1.user=task3_2.user;
+------+-----------+------+-------------+
| id   | user      | id   | user        |
+------+-----------+------+-------------+
|    1 | Pirate    |    2 | Pirate      |
|    2 | Monkey    | NULL | NULL        |
|    3 | Ninja     |    4 | Ninja       |
|    4 | Spaghetti | NULL | NULL        |
| NULL | NULL      |    1 | Rutabaga    |
| NULL | NULL      |    3 | Darth Vader |
+------+-----------+------+-------------+
6 rows in set (0.00 sec)

SHOW SESSION STATUS LIKE 'Last_query_cost';
+-----------------+----------+
| Variable_name   | Value    |
+-----------------+----------+
| Last_query_cost | 0.000000 |
+-----------------+----------+
1 row in set (0.00 sec)

explain select * from task3_1 left outer join task3_2 on task3_1.user=task3_2.user union select * from task3_1 right outer join task3_2 on task3_1.user=task3_2.user;
+----+--------------+------------+------+---------------+------+---------+------+------+-------+
| id | select_type  | table      | type | possible_keys | key  | key_len | ref  | rows | Extra |
+----+--------------+------------+------+---------------+------+---------+------+------+-------+
|  1 | PRIMARY      | task3_1    | ALL  | NULL          | NULL | NULL    | NULL |    4 |       |
|  1 | PRIMARY      | task3_2    | ALL  | NULL          | NULL | NULL    | NULL |    4 |       |
|  2 | UNION        | task3_2    | ALL  | NULL          | NULL | NULL    | NULL |    4 |       |
|  2 | UNION        | task3_1    | ALL  | NULL          | NULL | NULL    | NULL |    4 |       |
| NULL | UNION RESULT | <union1,2> | ALL  | NULL          | NULL | NULL    | NULL | NULL |       |
+----+--------------+------------+------+---------------+------+---------+------+------+-------+
5 rows in set (0.00 sec)

select * from task3_1 left outer join task3_2 on task3_1.user=task3_2.user;                                                         +------+-----------+------+--------+
| id   | user      | id   | user   |
+------+-----------+------+--------+
|    1 | Pirate    |    2 | Pirate |
|    2 | Monkey    | NULL | NULL   |
|    3 | Ninja     |    4 | Ninja  |
|    4 | Spaghetti | NULL | NULL   |
+------+-----------+------+--------+
4 rows in set (0.00 sec)

SHOW SESSION STATUS LIKE 'Last_query_cost';
+-----------------+-----------+
| Variable_name   | Value     |
+-----------------+-----------+
| Last_query_cost | 13.300562 |
+-----------------+-----------+
1 row in set (0.00 sec)

explain select * from task3_1 left outer join task3_2 on task3_1.user=task3_2.user;
+----+-------------+---------+------+---------------+------+---------+------+------+-------+
| id | select_type | table   | type | possible_keys | key  | key_len | ref  | rows | Extra |
+----+-------------+---------+------+---------------+------+---------+------+------+-------+
|  1 | SIMPLE      | task3_1 | ALL  | NULL          | NULL | NULL    | NULL |    4 |       |
|  1 | SIMPLE      | task3_2 | ALL  | NULL          | NULL | NULL    | NULL |    4 |       |
+----+-------------+---------+------+---------------+------+---------+------+------+-------+
2 rows in set (0.00 sec)


select * from task3_1 left outer join task3_2 on task3_1.user=task3_2.user where task3_2.id is null;
+------+-----------+------+------+
| id   | user      | id   | user |
+------+-----------+------+------+
|    2 | Monkey    | NULL | NULL |
|    4 | Spaghetti | NULL | NULL |
+------+-----------+------+------+
2 rows in set (0.00 sec)

SHOW SESSION STATUS LIKE 'Last_query_cost';
+-----------------+-----------+
| Variable_name   | Value     |
+-----------------+-----------+
| Last_query_cost | 13.300562 |
+-----------------+-----------+
1 row in set (0.00 sec)

explain select * from task3_1 left outer join task3_2 on task3_1.user=task3_2.user where task3_2.id is null;
+----+-------------+---------+------+---------------+------+---------+------+------+-------------+
| id | select_type | table   | type | possible_keys | key  | key_len | ref  | rows | Extra       |
+----+-------------+---------+------+---------------+------+---------+------+------+-------------+
|  1 | SIMPLE      | task3_1 | ALL  | NULL          | NULL | NULL    | NULL |    4 |             |
|  1 | SIMPLE      | task3_2 | ALL  | NULL          | NULL | NULL    | NULL |    4 | Using where |
+----+-------------+---------+------+---------------+------+---------+------+------+-------------+
2 rows in set (0.00 sec)


select * from task3_1 left outer join task3_2 on task3_1.user = task3_2.user where task3_1.id is null or task3_2.id is null union select * from task3_1 right outer join task3_2 on task3_1.user = task3_2.user where task3_1.id is null or task3_2.id is null;
+------+-----------+------+-------------+
| id   | user      | id   | user        |
+------+-----------+------+-------------+
|    2 | Monkey    | NULL | NULL        |
|    4 | Spaghetti | NULL | NULL        |
| NULL | NULL      |    1 | Rutabaga    |
| NULL | NULL      |    3 | Darth Vader |
+------+-----------+------+-------------+
4 rows in set (0.00 sec)

SHOW SESSION STATUS LIKE 'Last_query_cost';
+-----------------+----------+
| Variable_name   | Value    |
+-----------------+----------+
| Last_query_cost | 0.000000 |
+-----------------+----------+
1 row in set (0.00 sec)

explain select * from task3_1 left outer join task3_2 on task3_1.user = task3_2.user where task3_1.id is null or task3_2.id is null union select * from task3_1 right outer join task3_2 on task3_1.user = task3_2.user where task3_1.id is null or task3_2.id is null;
+----+--------------+------------+------+---------------+------+---------+------+------+-------------+
| id | select_type  | table      | type | possible_keys | key  | key_len | ref  | rows | Extra       |
+----+--------------+------------+------+---------------+------+---------+------+------+-------------+
|  1 | PRIMARY      | task3_1    | ALL  | NULL          | NULL | NULL    | NULL |    4 |             |
|  1 | PRIMARY      | task3_2    | ALL  | NULL          | NULL | NULL    | NULL |    4 | Using where |
|  2 | UNION        | task3_2    | ALL  | NULL          | NULL | NULL    | NULL |    4 |             |
|  2 | UNION        | task3_1    | ALL  | NULL          | NULL | NULL    | NULL |    4 | Using where |
| NULL | UNION RESULT | <union1,2> | ALL  | NULL          | NULL | NULL    | NULL | NULL |             |
+----+--------------+------------+------+---------------+------+---------+------+------+-------------+
5 rows in set (0.00 sec)



select * from task3_1 cross join task3_2;
+------+-----------+------+-------------+
| id   | user      | id   | user        |
+------+-----------+------+-------------+
|    1 | Pirate    |    1 | Rutabaga    |
|    2 | Monkey    |    1 | Rutabaga    |
|    3 | Ninja     |    1 | Rutabaga    |
|    4 | Spaghetti |    1 | Rutabaga    |
|    1 | Pirate    |    2 | Pirate      |
|    2 | Monkey    |    2 | Pirate      |
|    3 | Ninja     |    2 | Pirate      |
|    4 | Spaghetti |    2 | Pirate      |
|    1 | Pirate    |    3 | Darth Vader |
|    2 | Monkey    |    3 | Darth Vader |
|    3 | Ninja     |    3 | Darth Vader |
|    4 | Spaghetti |    3 | Darth Vader |
|    1 | Pirate    |    4 | Ninja       |
|    2 | Monkey    |    4 | Ninja       |
|    3 | Ninja     |    4 | Ninja       |
|    4 | Spaghetti |    4 | Ninja       |
+------+-----------+------+-------------+
16 rows in set (0.00 sec)

SHOW SESSION STATUS LIKE 'Last_query_cost';
+-----------------+----------+
| Variable_name   | Value    |
+-----------------+----------+
| Last_query_cost | 7.239039 |
+-----------------+----------+
1 row in set (0.00 sec)

explain select * from task3_1 cross join task3_2;
+----+-------------+---------+------+---------------+------+---------+------+------+-------------------+
| id | select_type | table   | type | possible_keys | key  | key_len | ref  | rows | Extra             |
+----+-------------+---------+------+---------------+------+---------+------+------+-------------------+
|  1 | SIMPLE      | task3_1 | ALL  | NULL          | NULL | NULL    | NULL |    4 |                   |
|  1 | SIMPLE      | task3_2 | ALL  | NULL          | NULL | NULL    | NULL |    4 | Using join buffer |
+----+-------------+---------+------+---------------+------+---------+------+------+-------------------+
2 rows in set (0.00 sec)

create index index_id on task3_1(id);
Query OK, 4 rows affected (0.00 sec)
Records: 4  Duplicates: 0  Warnings: 0

create index index_id on task3_2(id);
Query OK, 4 rows affected (0.01 sec)
Records: 4  Duplicates: 0  Warnings: 0

create index index_user on task3_1(user);
Query OK, 4 rows affected (0.01 sec)
Records: 4  Duplicates: 0  Warnings: 0

create index index_user on task3_2(user);
Query OK, 4 rows affected (0.00 sec)
Records: 4  Duplicates: 0  Warnings: 0

select * from task3_1 inner join task3_2 on task3_1.user=task3_2.user;
+------+--------+------+--------+
| id   | user   | id   | user   |
+------+--------+------+--------+
|    1 | Pirate |    2 | Pirate |
|    3 | Ninja  |    4 | Ninja  |
+------+--------+------+--------+
2 rows in set (0.00 sec)

SHOW SESSION STATUS LIKE 'Last_query_cost';
+-----------------+----------+
| Variable_name   | Value    |
+-----------------+----------+
| Last_query_cost | 6.639039 |
+-----------------+----------+
1 row in set (0.00 sec)

explain select * from task3_1 inner join task3_2 on task3_1.user=task3_2.user;
+----+-------------+---------+------+---------------+------+---------+------+------+--------------------------------+
| id | select_type | table   | type | possible_keys | key  | key_len | ref  | rows | Extra                          |
+----+-------------+---------+------+---------------+------+---------+------+------+--------------------------------+
|  1 | SIMPLE      | task3_1 | ALL  | index_user    | NULL | NULL    | NULL |    4 |                                |
|  1 | SIMPLE      | task3_2 | ALL  | index_user    | NULL | NULL    | NULL |    4 | Using where; Using join buffer |
+----+-------------+---------+------+---------------+------+---------+------+------+--------------------------------+
2 rows in set (0.00 sec)


select * from task3_1 left outer join task3_2 on task3_1.user=task3_2.user union select * from task3_1 right outer join task3_2 on task3_1.user=task3_2.user;
+------+-----------+------+-------------+
| id   | user      | id   | user        |
+------+-----------+------+-------------+
|    1 | Pirate    |    2 | Pirate      |
|    2 | Monkey    | NULL | NULL        |
|    3 | Ninja     |    4 | Ninja       |
|    4 | Spaghetti | NULL | NULL        |
| NULL | NULL      |    1 | Rutabaga    |
| NULL | NULL      |    3 | Darth Vader |
+------+-----------+------+-------------+
6 rows in set (0.00 sec)

SHOW SESSION STATUS LIKE 'Last_query_cost';
+-----------------+----------+
| Variable_name   | Value    |
+-----------------+----------+
| Last_query_cost | 0.000000 |
+-----------------+----------+
1 row in set (0.00 sec)

explain select * from task3_1 left outer join task3_2 on task3_1.user=task3_2.user union select * from task3_1 right outer join task3_2 on task3_1.user=task3_2.user;
+----+--------------+------------+------+---------------+------------+---------+--------------------+------+-------+
| id | select_type  | table      | type | possible_keys | key        | key_len | ref                | rows | Extra |
+----+--------------+------------+------+---------------+------------+---------+--------------------+------+-------+
|  1 | PRIMARY      | task3_1    | ALL  | NULL          | NULL       | NULL    | NULL               |    4 |       |
|  1 | PRIMARY      | task3_2    | ref  | index_user    | index_user | 23      | user2.task3_1.user |    2 |       |
|  2 | UNION        | task3_2    | ALL  | NULL          | NULL       | NULL    | NULL               |    4 |       |
|  2 | UNION        | task3_1    | ref  | index_user    | index_user | 23      | user2.task3_2.user |    2 |       |
| NULL | UNION RESULT | <union1,2> | ALL  | NULL          | NULL       | NULL    | NULL               | NULL |       |
+----+--------------+------------+------+---------------+------------+---------+--------------------+------+-------+
5 rows in set (0.00 sec)

select * from task3_1 left outer join task3_2 on task3_1.user=task3_2.user;
+------+-----------+------+--------+
| id   | user      | id   | user   |
+------+-----------+------+--------+
|    1 | Pirate    |    2 | Pirate |
|    2 | Monkey    | NULL | NULL   |
|    3 | Ninja     |    4 | Ninja  |
|    4 | Spaghetti | NULL | NULL   |
+------+-----------+------+--------+
4 rows in set (0.00 sec)

SHOW SESSION STATUS LIKE 'Last_query_cost';
+-----------------+-----------+
| Variable_name   | Value     |
+-----------------+-----------+
| Last_query_cost | 11.618531 |
+-----------------+-----------+
1 row in set (0.00 sec)

explain select * from task3_1 left outer join task3_2 on task3_1.user=task3_2.user;
+----+-------------+---------+------+---------------+------------+---------+--------------------+------+-------+
| id | select_type | table   | type | possible_keys | key        | key_len | ref                | rows | Extra |
+----+-------------+---------+------+---------------+------------+---------+--------------------+------+-------+
|  1 | SIMPLE      | task3_1 | ALL  | NULL          | NULL       | NULL    | NULL               |    4 |       |
|  1 | SIMPLE      | task3_2 | ref  | index_user    | index_user | 23      | user2.task3_1.user |    2 |       |
+----+-------------+---------+------+---------------+------------+---------+--------------------+------+-------+
2 rows in set (0.01 sec)

select * from task3_1 left outer join task3_2 on task3_1.user=task3_2.user where task3_2.id is null;
+------+-----------+------+------+
| id   | user      | id   | user |
+------+-----------+------+------+
|    2 | Monkey    | NULL | NULL |
|    4 | Spaghetti | NULL | NULL |
+------+-----------+------+------+
2 rows in set (0.00 sec)

SHOW SESSION STATUS LIKE 'Last_query_cost';
+-----------------+-----------+
| Variable_name   | Value     |
+-----------------+-----------+
| Last_query_cost | 11.618531 |
+-----------------+-----------+
1 row in set (0.00 sec)

explain select * from task3_1 left outer join task3_2 on task3_1.user=task3_2.user where task3_2.id is null;
+----+-------------+---------+------+---------------+------------+---------+--------------------+------+-------------+
| id | select_type | table   | type | possible_keys | key        | key_len | ref                | rows | Extra       |
+----+-------------+---------+------+---------------+------------+---------+--------------------+------+-------------+
|  1 | SIMPLE      | task3_1 | ALL  | NULL          | NULL       | NULL    | NULL               |    4 |             |
|  1 | SIMPLE      | task3_2 | ref  | index_user    | index_user | 23      | user2.task3_1.user |    2 | Using where |
+----+-------------+---------+------+---------------+------------+---------+--------------------+------+-------------+
2 rows in set (0.00 sec)

select * from task3_1 left outer join task3_2 on task3_1.user = task3_2.user where task3_1.id is null or task3_2.id is null union select * from task3_1 right outer join task3_2 on task3_1.user = task3_2.user where task3_1.id is null or task3_2.id is null;
+------+-----------+------+-------------+
| id   | user      | id   | user        |
+------+-----------+------+-------------+
|    2 | Monkey    | NULL | NULL        |
|    4 | Spaghetti | NULL | NULL        |
| NULL | NULL      |    1 | Rutabaga    |
| NULL | NULL      |    3 | Darth Vader |
+------+-----------+------+-------------+
4 rows in set (0.00 sec)

SHOW SESSION STATUS LIKE 'Last_query_cost';
+-----------------+----------+
| Variable_name   | Value    |
+-----------------+----------+
| Last_query_cost | 0.000000 |
+-----------------+----------+
1 row in set (0.00 sec)

explain select * from task3_1 left outer join task3_2 on task3_1.user = task3_2.user where task3_1.id is null or task3_2.id is null union select * from task3_1 right outer join task3_2 on task3_1.user = task3_2.user where task3_1.id is null or task3_2.id is null;
+----+--------------+------------+------+---------------+------------+---------+--------------------+------+-------------+
| id | select_type  | table      | type | possible_keys | key        | key_len | ref                | rows | Extra       |
+----+--------------+------------+------+---------------+------------+---------+--------------------+------+-------------+
|  1 | PRIMARY      | task3_1    | ALL  | index_id      | NULL       | NULL    | NULL               |    4 |             |
|  1 | PRIMARY      | task3_2    | ref  | index_user    | index_user | 23      | user2.task3_1.user |    2 | Using where |
|  2 | UNION        | task3_2    | ALL  | index_id      | NULL       | NULL    | NULL               |    4 |             |
|  2 | UNION        | task3_1    | ref  | index_user    | index_user | 23      | user2.task3_2.user |    2 | Using where |
| NULL | UNION RESULT | <union1,2> | ALL  | NULL          | NULL       | NULL    | NULL               | NULL |             |
+----+--------------+------------+------+---------------+------------+---------+--------------------+------+-------------+
5 rows in set (0.00 sec)

select * from task3_1 cross join task3_2;
+------+-----------+------+-------------+
| id   | user      | id   | user        |
+------+-----------+------+-------------+
|    1 | Pirate    |    1 | Rutabaga    |
|    2 | Monkey    |    1 | Rutabaga    |
|    3 | Ninja     |    1 | Rutabaga    |
|    4 | Spaghetti |    1 | Rutabaga    |
|    1 | Pirate    |    2 | Pirate      |
|    2 | Monkey    |    2 | Pirate      |
|    3 | Ninja     |    2 | Pirate      |
|    4 | Spaghetti |    2 | Pirate      |
|    1 | Pirate    |    3 | Darth Vader |
|    2 | Monkey    |    3 | Darth Vader |
|    3 | Ninja     |    3 | Darth Vader |
|    4 | Spaghetti |    3 | Darth Vader |
|    1 | Pirate    |    4 | Ninja       |
|    2 | Monkey    |    4 | Ninja       |
|    3 | Ninja     |    4 | Ninja       |
|    4 | Spaghetti |    4 | Ninja       |
+------+-----------+------+-------------+
16 rows in set (0.00 sec)

SHOW SESSION STATUS LIKE 'Last_query_cost';
+-----------------+----------+
| Variable_name   | Value    |
+-----------------+----------+
| Last_query_cost | 7.239039 |
+-----------------+----------+
1 row in set (0.00 sec)

explain select * from task3_1 cross join task3_2;
+----+-------------+---------+------+---------------+------+---------+------+------+-------------------+
| id | select_type | table   | type | possible_keys | key  | key_len | ref  | rows | Extra             |
+----+-------------+---------+------+---------------+------+---------+------+------+-------------------+
|  1 | SIMPLE      | task3_1 | ALL  | NULL          | NULL | NULL    | NULL |    4 |                   |
|  1 | SIMPLE      | task3_2 | ALL  | NULL          | NULL | NULL    | NULL |    4 | Using join buffer |
+----+-------------+---------+------+---------------+------+---------+------+------+-------------------+
2 rows in set (0.00 sec)
